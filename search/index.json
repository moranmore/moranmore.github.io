[{"content":"å‰è¨€ é€šè¿‡Headscaleå’Œtailscaleå¯ä»¥å®ç°è¿œç¨‹ç»„å»ºå±€åŸŸç½‘ï¼Œè¿œç¨‹è®¿é—®å®¶ä¸­èµ„æºçš„ç›®çš„ã€‚\næˆ–è€…åœ¨Aåœ°è®¿é—®Båœ°èµ„æºè¾ƒæ…¢çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡Headscale+tailscaleç»„ä»¶å±€åŸŸç½‘ï¼ŒåŠ é€Ÿè®¿é—®èµ„æºã€‚\nOrå¯ä»¥è®©å¤šå°è®¾å¤‡åŠ å…¥ä¸€ä¸ªå…¬ç½‘VPSï¼Œè®©ä¸åŒåœ°ç‚¹çš„ç”¨æˆ·è®¿é—®å¯¹æ–¹çš„æœ¬åœ°èµ„æºç­‰ã€‚\nå‡†å¤‡ 1ï¼Œå‡†å¤‡ä¸€ä¸ªå…·æœ‰å…¬ç½‘ipçš„vpsï¼Œä¸€ä¸ªä¸»æœºï¼ˆä¸ªäººè®¾å¤‡ï¼Œç”¨äºæ¥å…¥VPSæ­å»ºçš„å±€åŸŸç½‘ä¸­ï¼‰ã€‚\n2ï¼Œåœ¨vpsä¸Šå®‰è£…headscaleï¼Œåœ¨ä¸»æœºä¸Šå®‰è£…tailscaleã€‚\nå®‰è£…Headscale æŒ‰ç…§å®˜ç½‘çš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼šhttps://headscale.net/running-headscale-linux/#installation\n1 2 3 4 5 6 7 8 9 10 11 # æ›´æ–° sudo apt update sudo apt upgrade # ä¸‹è½½å®‰è£…åŒ…ï¼Œæ³¨æ„ä¿®æ”¹flagé‡Œé¢çš„æ ‡å¿—ï¼Œè¿™é‡Œçš„ç‰ˆæœ¬æ—¶æ ¹æ®repoä¸­çš„æœ€æ–°ç‰ˆæœ¬ä¿®æ”¹ wget --output-document=headscale.deb https://github.com/juanfont/headscale/releases/download/v0.22.3/[flag:headscale_0.xx.xx_linux_amd64.deb] # å®‰è£…debåŒ… sudo dpkg --install headscale.deb systemctl daemon-reload # é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶ systemctl enable --now headscale # å¼€æœºè‡ªåŠ¨å¯åŠ¨ sudo systemctl enable headscale sudo systemctl start headscale ä¿®æ”¹é…ç½®æ–‡ä»¶å†…å®¹\n1 2 3 4 5 # ç¼–è¾‘é…ç½®æ–‡ä»¶ vim /etc/headscale/config.yaml # ä¿®æ”¹ä»¥ä¸‹å†…å®¹ server_url:http://[flag:your vps public ip address]:8080 listen_url:0.0.0.0:8080 1 2 # æ–°å»ºå‘½åç©ºé—´ headscale users create [flag:namespace] # æœ€åå‚æ•°ä¸ºå‘½åç©ºé—´çš„åå­— ä¸€äº›å®‰è£…ä¿¡æ¯\n1 2 3 4 5 6 # æ•°æ®åº“å®‰è£…ä½ç½® /var/lib/headscale/db.sqlite # å¦‚æœé…ç½®æ–‡ä»¶å‡ºé”™ï¼Œé‡æ–°ä¸‹è½½é…ç½®æ–‡ä»¶ wget https://github.com/juanfont/headscale/raw/main/config-example.yaml -O /etc/headscale/config.yamlã€€# å¦‚æœæŠ¥é”™ï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ unix_socket: /var/lib/headscale/headscale.sock å®‰è£…Tailscale å¦‚æœæƒ³è¦å®ç°åœ¨VPSä¸Šæ­å»ºå±€åŸŸç½‘ç”¨äºå¤šç”¨æˆ·å®ç°è®¿é—®æŸä¸ªèµ„æºçš„ipçœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„ï¼Œéœ€è¦åœ¨VPSä¸Šå®‰è£…Headscaleå’ŒTailscaleï¼Œå³åŒæ—¶ä½œä¸ºæœåŠ¡ç«¯å’Œä¸€ä¸ªèŠ‚ç‚¹ã€‚\nLinux ä¸‹è½½å®¢æˆ·ç«¯ï¼šhttps://tailscale.com/kb/1039/install-ubuntu-2004/\n1 2 3 4 curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/focal.noarmor.gpg | sudo tee /usr/share/keyrings/tailscale-archive-keyring.gpg \u0026gt;/dev/null curl -fsSL https://pkgs.tailscale.com/stable/ubuntu/focal.tailscale-keyring.list | sudo tee /etc/apt/sources.list.d/tailscale.list sudo apt-get update sudo apt-get install tailscale å¦‚æœæ— æ³•ç›´æ¥å¼¹å‡ºæ³¨å†Œçš„tokenå°±æŒ‰ç…§æç¤ºå‘½ä»¤ï¼Œç›´åˆ°å¼¹å‡ºnodekey\n1 2 3 4 # ç­‰å·åé¢çš„æ˜¯å®‰è£…headscaleçš„ä¸»æœºï¼Œé»˜è®¤ç«¯å£8080 å›æ˜¾ä¼šæœ‰..... nodekey:... tailscale up --login-server=http://[flag: your vps public ip address]:8080 # æ¥å—æ³¨å†Œ æŠŠnodekeyæŒ‰ç…§ä¸‹é¢çš„æ ¼å¼åœ¨å®‰è£…äº†headscaleçš„ä¸»æœºä¸Šè¿è¡Œbash headscale --user [flag:name of registed user] nodes register --key nodekey:xxxxx Windows è®¿é—®http://[flag: your vps public ip address]:8080/windowsæŒ‰ç…§æ­¥éª¤ï¼Œæ·»åŠ æ³¨å†Œè¡¨ï¼Œè¾“å…¥å‘½ä»¤ï¼Œåœ¨VPSæ³¨å†ŒèŠ‚ç‚¹ã€‚\nå¤–éƒ¨èŠ‚ç‚¹ï¼ˆExit nodeï¼‰ æ·»åŠ å¤–éƒ¨èŠ‚ç‚¹\nå°†éƒ¨ç½²æœ‰headscaleçš„æœºå™¨ä½œä¸ºå¤–éƒ¨èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å°†vpsæœ¬æœºåŠ å…¥nodeçš„æ–¹å¼ï¼Œå®ç°é€šè¿‡å¤–éƒ¨èŠ‚ç‚¹è®¿é—®äº’è”ç½‘çš„ç›®çš„ï¼ˆæ¯”å¦‚ä»å±€åŸŸç½‘ï¼‰ã€‚\n1 2 3 4 5 6 7 sudo tailscale set --exit-node [flag: VPS hostname] tailscale up --advertise-exit-node --login-server=http://[flag: your vps public ip address]:8080 sudo tailscale up --advertise-exit-node # è¿è¡Œå®Œä¸Šé¢çš„å‘½ä»¤ä¹‹åï¼Œåœ¨vpsä¸ŠæŸ¥çœ‹è·¯ç”± headscale routes list # å¼€å¯è·¯ç”±ï¼šæ ‡å¿—ä½æ˜¯ä¸Šé¢å‘½ä»¤ç°å®å‡ºæ¥çš„ç¬¬ä¸€åˆ—å‚æ•°ï¼šIDï¼Œåœ¨ä¸€ä¸ªå¤–éƒ¨èŠ‚ç‚¹çš„æƒ…å†µä¸‹ç›´æ¥enableå‰ä¸¤ä¸ªè·¯ç”± headscale routes enable -r [flag] 1 sudo tailscale set --exit-node å¤–éƒ¨èŠ‚ç‚¹åç§° åˆ é™¤èŠ‚ç‚¹\n1 headscale node delete -i å¦‚æœéœ€è¦å°†Windowsæœºå™¨ä½œä¸ºå†…ç½‘è½¬å‘çš„æœºå™¨ï¼Œéœ€è¦è®¾ç½®Windowsçš„è½¬å‘è§„åˆ™ï¼Œå¹¶loginåˆ°serverã€‚\næ›´æ”¹èŠ‚ç‚¹ 1 2 3 4 5 6 # åˆ é™¤èŠ‚ç‚¹ headscale nodes delete [flags] # x è¿™é‡ŒæŒ‡ä»£çš„æ˜¯ç¬¬ä¸€åˆ—æ ‡å¿—çš„IDåºå· headscale nodes delete -i x # å¯åŠ¨è·¯ç”± headscale node route enable -a -i å¯åŠ¨ä»£ç† è®¿é—®å¤–éƒ¨ç½‘ç»œçš„ä¸»æœºä¸Šï¼ˆè¿™é‡Œæ˜¯linuxï¼‰ï¼Œå¦‚åœ¨å±€åŸŸç½‘ ä½¿ç”¨exit nodeï¼š\n1 sudo tailscale set --exit-node [flag: exit node ] åˆ‡æ¢æœåŠ¡ç«¯ windowså¹³å°å…ˆä¿®æ”¹æ³¨å†Œè¡¨ï¼Œç„¶åè®¿é—®æ–°çš„æ³¨å†Œç½‘å€ã€‚\nè®¿é—®æ–°çš„å†…ç½‘ipå¯¹åº”ç«¯å£çš„windowsï¼Œ:\n1 http://[flag: your vps public ip address]:8080/windows å°†HKLM\\Software\\Tailscale IPN çš„å€¼æ”¹ä¸ºæ–°çš„ipåœ°å€çš„å€¼,é‡æ–°ç”¨æ³¨å†Œæœºå™¨çš„æ–¹å¼æ³¨å†Œä¸€éã€‚\nHeadscaleå¸¸ç”¨çŠ¶æ€æ£€æµ‹å‘½ä»¤ 1 2 3 4 5 6 7 8 9 10 # æŸ¥çœ‹æ‰€æœ‰å‘½åç©ºé—´ headscale namespace list # åˆ—å‡ºæ‰€æœ‰èŠ‚ç‚¹ä¿¡æ¯ headscale node list # æŸ¥çœ‹éƒ¨ç½²æ—¥å¿— journalctl -u headscale # æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ systemctl status headscale # é‡å¯æœåŠ¡ service headscale restart å‚è€ƒæ–‡ç«  https://headscale.net/\nhttps://github.com/juanfont/headscale\nhttps://icloudnative.io/posts/how-to-set-up-or-migrate-headscale\n","date":"2023-12-30T11:04:46+08:00","permalink":"https://expanse.rsvp/p/headscale%E4%B8%8Etailscale%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/","title":"Headscaleä¸tailscaleç®€å•ä½¿ç”¨ä½“éªŒ"},{"content":"å‰è¨€ ä½¿ç”¨Docker+Cloudflareå¯ä»¥åœ¨è‡ªå·±çš„VPSæœåŠ¡å™¨ä¸Šæ­å»ºç®€æ˜“çš„é™æ€ç½‘ç«™ã€‚\né‡‡ç”¨çš„é•œåƒä¸ºnginxé•œåƒï¼ŒåŒæ—¶åœ¨ä¸»æœºç”¨nginxåå‘ä»£ç†å®ç°è½¬å‘åŠŸèƒ½ï¼Œä½¿å¾—è¾“å…¥åŸŸåå°±èƒ½è®¿é—®ç›¸åº”çš„å®¹å™¨ç«¯å£ã€‚\nç®€å•çš„è¯´ï¼Œå¯ä»¥é€šè¿‡åå‘ä»£ç†ï¼Œå®ç°åœ¨è¾“å…¥ä¸åŒçš„åŸŸåæ¥è®¿é—®ä¸»æœºçš„80ç«¯å£æ—¶ï¼Œå°†è¯·æ±‚è½¬å‘åˆ°å…¶ä»–çš„è‡ªå®šä¹‰ç«¯å£ï¼Œæ›´å®¹æ˜“éƒ¨ç½²å’Œä¿®æ”¹ç½‘ç«™çš„æœåŠ¡ã€‚åŒæ—¶ä½¿ç”¨Cloudflareå°†è§£ææŒ‡å‘è‡ªå·±çš„VPSï¼Œéšè—VPSçœŸå®IPã€‚\nå¯¹äºåŸç†æ²¡æœ‰ç‰¹åˆ«å¤šçš„è§£é‡Šï¼Œä½†æ˜¯æŒ‰ç…§æ­¥éª¤æ¥èƒ½å®ç°ç¨³å®šçš„è®¿é—®ã€‚\nåœ¨VPSä¸Šä½¿ç”¨dockeræ­å»ºç®€å•é™æ€ç½‘ç«™å¹¶ä½¿ç”¨cloudflare\nDockerfile é™æ€ç½‘ç«™åªæœ‰ä¸€ä¸ªä¸»é¡µï¼Œç›´æ¥copyåˆ°htmlç›®å½•ä¸‹å°±è¡Œï¼ˆåŠå¹´ä»¥å†…ç”¨docker-composeæ­å»ºå¤æ‚ä¸€ç‚¹çš„ç½‘ç«™ï¼‰\n1 2 3 4 5 6 7 FROM nginx:latest COPY index.html /usr/share/nginx/html/index.html EXPOSE 80 CMD [\u0026#34;nginx\u0026#34;, \u0026#34;-g\u0026#34;, \u0026#34;daemon off;\u0026#34;] Cloudflare DNSè®¾ç½® Websitesæ·»åŠ è´­ä¹°çš„åŸŸå\nAdd a site\nåœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥åŸŸå\nDNSè®¾ç½®\nè¿™é‡Œå¯ä»¥ç›´æ¥ç»§ç»­ï¼Œç„¶åå›åˆ°åŸŸååœæ”¾æœåŠ¡å•†ï¼Œæ›´æ”¹å¦‚ä¸‹é…ç½®ï¼Œä¸€èˆ¬æ‰¾åˆ°å«æœ‰nameserversç›¸å…³é€‰é¡¹æ›´æ”¹\næ·»åŠ è®°å½•\nå®Œæˆ\nå’Œhttpã€httpsæœ‰å…³çš„è®¾ç½®\næ¥ä¸‹æ¥å°±æ˜¯æ£€æŸ¥è®¾ç½®å®ŒæˆçŠ¶æ€ï¼ˆå®Œæˆåä¼šå‘é€é‚®ä»¶ï¼‰\nä¿®æ”¹è®°å½• å·¦ä¾§DNSè®¾ç½®\nä¿®æ”¹è®°å½•ï¼Œä½¿ç”¨ä¸€æ¡Aè®°å½•æŒ‡å‘VPSä¸»æœº\nSSL TLSè®¾ç½® é‡‡ç”¨Strictæ¨¡å¼ï¼ˆå››ç§æ¨¡å¼åŒºåˆ«ä¸»è¦åœ¨äºæ˜¯å¦é‡‡ç”¨åŠ å¯†ï¼Œæ˜¯å¦é‡‡ç”¨VPSåˆ°Cloudflareä¹‹é—´åŠ å¯†ï¼‰\nè¯ä¹¦ç±»åˆ«\nè¾¹ç¼˜è¯ä¹¦ï¼šæŒ‡ä»ç”¨æˆ·æµè§ˆå™¨åˆ°Cloudflareä¹‹é—´çš„åŠ å¯†è¯ä¹¦\næœåŠ¡ç«¯è¯ä¹¦ï¼šæŒ‡Cloudflareåˆ°VPSä¹‹é—´åŠ å¯†è¯ä¹¦\nè¾¹ç¼˜è¯ä¹¦æ˜¯å·²ç»è®¾ç½®å¥½çš„ï¼Œä¼šè‡ªåŠ¨ç»­æœŸï¼Œä¸éœ€è¦æ›´æ”¹è¿™é‡Œçš„é…ç½®\nè®¾ç½®å®¢æˆ·ç«¯è¯ä¹¦\næŠŠpemæ ¼å¼è¯ä¹¦å­˜åˆ°æœ¬åœ°\nè®¾ç½®Origin ServeråŠ å¯†ï¼ˆCustomize encryption of traffic between your origin server and Cloudflare.ï¼‰\nè®¾ç½®è¯´æ˜\n1 2 3 4 5 # Origin Certificate Installation Save the certificate and private key below to your client. To save, Click to copy and paste the contents into different files on your client, e.g. example.com.pem and example.com.key # Origin Certificate # Private key Copy the contents of your private key below to your web server and set file permissions such that only your http server can access it. Additionally, you can optionally encrypt this file and provide a password to decrypt it during your origin web server startup. The private key data will not be stored at Cloudflare and will no longer be accessible once the creation is complete. Please make sure you have a local copy of this key. Nginxåå‘ä»£ç† åœ¨å®¿ä¸»æœºä¸Šå®‰è£…nginx\n1 2 3 4 5 6 7 8 9 sudo apt update sudo apt install nginx sudo systemctl start nginx sudo systemctl enable nginx # after config sudo systemctl reload nginx sudo systemctl restart nginx # stop sudo systemctl stop nginx é…ç½®æ–‡ä»¶xxxx.conf å­˜æ”¾çš„ä½ç½®/etc/nginx/sites-available/[flag].conf\nè¿™é‡Œçš„åŸŸåå’Œç«¯å£éƒ½éœ€è¦æŒ‰ç…§ä¸ªäººçš„éœ€æ±‚æ›´æ”¹[flag: è¯´æ˜]ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 server { listen 80; return 301 https://$host$request_uri; } server { server_name [flag:domain]; listen 443 ssl http2; ssl on; ssl_session_cache builtin:1000 shared:SSL:10m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers HIGH:!aNULL:!eNULL:!EXPORT:!CAMELLIA:!DES:!MD5:!PSK:!RC4; ssl_prefer_server_ciphers on; ssl_certificate /etc/nginx/[flag:path to store key]/[flag:domain].pem; ssl_certificate_key /etc/nginx/[flag:path to store key]/[flag:domain].key; location / { proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_read_timeout 90; proxy_redirect http://[flag:host ip]:[flag:host port] https://[flag:domain]; proxy_pass http://[flag:host ip]:[flag:host port]; } } è½¯é“¾æ¥sudo ln -s /etc/nginx/sites-available/proxy.conf /etc/nginx/sites-enabled/ï¼Œå®Œæˆé…ç½®ä¹‹åé‡å¯nginxæœåŠ¡ã€‚\n1 2 sudo systemctl reload nginx sudo systemctl restart nginx å¯åŠ¨ 1 2 3 4 5 6 7 8 # æ ¹æ®å½“å‰ç›®å½•Dockerfileç”Ÿæˆimage docker build -t [flag] . # è¿è¡Œ docker run -d -p [flag:host port]:80 --name [flag:container name] [flag:image name]:[flag:image tag] sudo systemctl start nginx.service sudo systemctl enable nginx.service # æ£€æŸ¥nginxçŠ¶æ€ systemctl status nginx ","date":"2023-12-24T23:18:59+08:00","permalink":"https://expanse.rsvp/p/%E4%BD%BF%E7%94%A8docker%E6%90%AD%E5%BB%BA%E7%AE%80%E5%8D%95%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/","title":"ä½¿ç”¨Dockeræ­å»ºç®€å•é™æ€ç½‘ç«™"},{"content":"ssh-keygenæ˜¯ç”¨äºç”Ÿæˆsshå¯†é’¥å¯¹çš„ç¨‹åºï¼Œå¯ä»¥ç”Ÿæˆå¤šç§éå¯¹ç§°åŠ å¯†ï¼ˆå¦‚RSAã€ECCç­‰ï¼‰çš„å¯†é’¥å¯¹ï¼Œç”¨äºSSHç™»å½•è®¤è¯æˆ–è€…å…¶ä»–éœ€è¦ä½¿ç”¨ç­¾åçš„åœºåˆç­‰ç­‰ï¼ˆå¦‚Githubç™»å½•æˆ–ä»“åº“Actionsçš„è¿è¡Œç­‰ï¼‰ã€‚\nopenssl\u0026amp;ssh-keygen ä¸¤ç§ç”Ÿæˆå¯†é’¥å¯¹çš„æ–¹æ³• ä½¿ç”¨ssh-keygen åŠ å¯¹åº”çš„é€‰é¡¹å‚æ•°å³å¯ç”Ÿæˆç›¸å…³çš„å¯†é’¥å¯¹ï¼Œç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„å¯†é’¥å¯¹åªéœ€è¦è¿è¡Œssh-keygenæŒ‰ç…§æç¤ºæ“ä½œï¼ˆé»˜è®¤ç›®å½•æ˜¯åœ¨å®¶ç›®å½•çš„.sshç›®å½•ä¸­ï¼‰ï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨å‚æ•°ç”Ÿæˆçš„å¯†é’¥å¯¹ï¼Œå¹¶æŒ‡å®šç›®å½•\n1 ssh-keygen -t rsa -b 1024 -C \u0026#34;\u0026#34; ç”ŸæˆRSAå¯†é’¥å¯¹(1024bits)\n1 openssl genrsa -out test.key 1024 opensslè¯»å–ç§é’¥ ä½¿ç”¨opensslè¯»å–ç§é’¥\n1 openssl rsa -in test.key -text ç§é’¥ç»“æ„ RSAç§é’¥ ä¸€ä¸ªRSAç§é’¥çš„ç»“æ„ä¸­åŒ…å«äº†å¦‚ä¸‹çš„å‡ ä¸ªéƒ¨åˆ†ã€‚\n$\\text{n}$æ¨¡æ•° $\\text{e}$å…¬å…±æŒ‡æ•°ï¼Œé»˜è®¤ä¸º65537 $\\text{d}$ç§é’¥ $\\text{p(q)}$ç¬¬ä¸€ä¸ªå¤§è´¨æ•° $\\text{q(p)}$ç¬¬äºŒä¸ªå¤§è´¨æ•° $\\text{dp}:d\\pmod{p-1}$dp $\\text{dq}:d\\pmod{q-1}$dq $\\text{coefficient}:q^{-1}\\pmod{p}$ ä½¿ç”¨Pythonè¯»å–RSAç§é’¥ 1 2 3 4 5 6 7 8 9 10 11 from Crypto.PublicKey import RSA from Crypto.Util.number import * with open(\u0026#34;test.key\u0026#34;,\u0026#34;rb\u0026#34;) as f: content = f.read() key = RSA.import_key(content) assert isPrime(key.q) and isPrime(key.p) and key.p*key.q==key.n print(key.e) print(key.n) print(key.q) print(key.p) å¯†é’¥æ ¼å¼ è¾“å…¥çš„å‘½ä»¤ä¸åŒï¼Œç”Ÿæˆçš„ç§é’¥å†…å®¹ä¹Ÿæ˜¯æœ‰å»åˆ«çš„ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤çš„ssh-keygenç”Ÿæˆçš„ç§é’¥æ–‡ä»¶æ˜¯æ— æ³•é€šè¿‡Opensslç›´æ¥è¯»å–çš„ï¼Œå¦‚æœæƒ³è¦é€šè¿‡Opensslå‘½ä»¤è¯»å–rsaç§é’¥æ–‡ä»¶ï¼Œéœ€è¦åœ¨ç”Ÿæˆçš„æ—¶å€™ä½¿ç”¨opensslå‘½ä»¤ã€‚\nè¿™ä¸¤ç§æ–‡ä»¶æ ¼å¼çš„å¼€å¤´å’Œç»“å°¾ä¹Ÿæœ‰åŒºåˆ«ï¼Œå¦‚æœä½¿ç”¨ssh-keygenå‘½ä»¤ç›´æ¥åˆ›å»ºï¼Œå¼€å¤´å’Œç»“å°¾ä¸ºï¼š-----BEGIN OPENSSH PRIVATE KEY-----å’Œ-----END OPENSSH PRIVATE KEY-----æ­¤æ—¶ç”Ÿæˆçš„æ˜¯sshçš„å¯†é’¥ï¼›å¦‚æœä½¿ç”¨Opensslå‘½ä»¤å¹¶æŒ‡å®šçš„åŠ å¯†ç®—æ³•åˆ›å»ºå¯†é’¥å¯¹ï¼Œç”Ÿæˆçš„å¯†é’¥å¯¹çš„å¼€å¤´å’Œç»“å°¾æ˜¯ï¼š-----BEGIN PRIVATE KEY-----å’Œ-----END PRIVATE KEY-----,è¿™ä¸¤ç§å¯†é’¥å¯¹å½¢å¼æœ‰ç›¸ä¼¼ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ä¸€æ ·çš„å¯†é’¥ç±»å‹ï¼Œæ— æ³•ä½¿ç”¨openssl rsa .....å‘½ä»¤è¯»å–ssh-keygenç”Ÿæˆçš„sshå¯†é’¥ï¼Œæ‰€ä»¥ä½¿ç”¨opensslå‘½ä»¤è¯»å–ssh-keygençš„ç§é’¥çš„æ—¶å€™æ— æ³•æˆåŠŸã€‚\nReference OpenSSL - wiki\nOpenSSL - Toolkit\nssh-keygen - wiki\nssh-keygen manual\nWhat are the differences between ssh generated keys(ssh-keygen) and OpenSSL keys (PEM)and what is more secure for ssh remote login?\n[For valid PEM I get unable to load private key by openssh](https://superuser.com/questions/1679344/for-valid-pem-i-get-unable-to-load-private-key-by-openssh)\nRECOVERING A FULL PEM PRIVATE KEY WHEN HALF OF IT IS REDACTED\nPyCryptodome - readthedocs\n","date":"2023-11-05T16:01:57+08:00","permalink":"https://expanse.rsvp/p/ssh-keygen%E4%B8%8E%E5%AF%86%E9%92%A5%E6%A0%BC%E5%BC%8F/","title":"ssh-Keygenä¸å¯†é’¥æ ¼å¼"},{"content":"å‰è¨€ æœ¬æ–‡ä¸»è¦è®°å½•çš„æ˜¯CTFæ¯”èµ› Cryptoç±»ä¸­ç¯å¢ƒçš„æ­å»ºï¼Œæ ¹æ®æœ¬äººçš„éœ€è¦ä¼šéšæ—¶æ›´æ–°æ–‡ç« ï¼Œç­‰ä¸æ›´æ–°äº†å°±è¯´æ˜ç¯å¢ƒåŸºæœ¬æ²¡ä»€ä¹ˆå˜åŒ–äº†ã€‚\nç³»ç»Ÿ Homebrewçš„å®‰è£…(äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…ä¼¼ä¹ä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œæ€»æ˜¯æŠ¥é”™)ï¼š\n1 2 3 4 5 6 7 # https://brew.sh/index_zh-cn # æˆ–è€…ä½¿ç”¨å‘½ä»¤ï¼› # è®¿é—®binï¼šhttps://github.com/Homebrew/brew/releases/tag/4.1.9ï¼Œä½¿ç”¨pkgå®‰è£… /bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/uninstall.sh)\u0026#34; # å¸è½½ /bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34;# å®‰è£… brew doctor brew cleanup goç¯å¢ƒå®‰è£…ï¼š\n1 2 # https://go.dev/dl/ brew install go hugoå®‰è£…ï¼š\n1 2 3 sudo chown -R $(whoami) /usr/local/opt chmod u+w /usr/local/opt brew install hugo python pythonçš„ç¯å¢ƒæ­å»ºæ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦å®‰è£…å‡ ä¸ªå›ºå®šçš„åº“å°±å¯ä»¥äº†ï¼Œvscode å°±èƒ½æ»¡è¶³æ¡ä»¶ï¼Œè¿™ä¸ªä¸éœ€è¦å…¶ä»–å¤ªå¤šçš„ä¸œè¥¿ï¼Œå¸¸ç”¨çš„åº“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š\n1 2 3 4 5 6 7 8 9 10 11 gmpy2 pycryptodome sympy # è‡ªå¸¦mpmath numpy pwntools #https://pwntools-docs-zh.readthedocs.io/zh_CN/dev/install/binutils.html#mac-os-x # pwntoolsçš„å®‰è£…éœ€è¦é¢„å…ˆå®‰è£…binutils ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯git clone ä¸‹æ¥ä¹‹åç”¨shellå®‰è£… git clone https://github.com/Gallopsled/pwntools-binutils.git cd pwntools-binutils/ cd macos ./install_all.sh # å‡ºé”™æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºæ¶æ„çš„é—®é¢˜ï¼Œå®‰è£…ä¸ä¸Šarmçš„ç‰ˆæœ¬æ²¡å…³ç³» # å¯ä»¥è¯•è¯•install.sh é€‰æ‹©å…¨å®‰è£…åœ¨macä¸Šå®‰è£…å’Œæ„å»ºèŠ±äº†å¾ˆä¹…ï¼Œè€Œä¸”æŠ¥é”™å¾ˆå¤š å†™ä¸€ä¸ªpythonçš„ç¯å¢ƒå®‰è£…txtå§ï¼š\n1 2 3 4 5 6 7 8 # mac os env # requirements.txt gmpy2 pycryptodome sympy numpy pwntools pyelftools == 0.29 pwntoolså®‰è£… python3.9çš„æ”¯æŒä¼¼ä¹ä¸æ˜¯å¾ˆå¥½ï¼Œå‡†å¤‡ä¸€ä¸ª3.10.11è¯•è¯•,è¿™é‡Œæœ‰ä¸¤ç§ä¸‹è½½çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯æºç ï¼Œå¦ä¸€ç§æ˜¯å®‰è£…æ–‡ä»¶ï¼Œå…¶ä¸­æºç æä¾›äº†tgzæ–‡ä»¶ï¼Œè¿™é‡Œå…ˆç”¨å®‰è£…åŒ…å®‰è£…äº†ï¼Œå¤ªéº»çƒ¦äº†:\n1 2 #https://www.python.org/downloads/macos/ #https://www.python.org/downloads/release/python-31013/ å¯ä»¥å‘ç°python3.10çš„å¯åŠ¨æ˜¯é€šè¿‡python3.10çš„bashæŒ‡ä»¤å¯åŠ¨ï¼Œè€Œä¸æ˜¯python3ï¼Œéœ€è¦å°†python3.10.11è®¾ç½®ä¸ºé»˜è®¤çš„pythonç‰ˆæœ¬ï¼Œå¹¶è®¾ç½®ç›¸å…³çš„åº“ã€‚ï¼ˆçœ‹ä¸‹é¢ï¼Œä¸ç”¨è®¾ç½®ï¼Œæ”¹vscçš„å°±è¡Œï¼Œç›´æ¥åœ¨python3.10é‡Œé¢å®‰è£…åº“ï¼‰\nåè½¬äº†ï¼Œæ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œç›´æ¥æ”¹vscçš„é…ç½®ï¼Œç„¶åæŠŠpwntoolsçš„å…¶ä¸­ä¾èµ–åº“æ”¹ä¸º0.29ğŸ”—:\n1 pip3 install pyelftools==0.29 # å®Œäº‹ pwntoolsçš„å®‰è£…æœ‰äº›éº»çƒ¦ï¼Œåœ¨macä¸Šæ„å»ºbinunitsæ€»ä¼šæœ‰å„ç§å¥‡æ€ªçš„é”™è¯¯ï¼š\n1 2 3 4 5 6 7 brew cleanup binutils brew install binutils brew reinstall binutils echo \u0026#39;export PATH=\u0026#34;/usr/local/opt/binutils/bin:$PATH\u0026#34;\u0026#39; \u0026gt;\u0026gt; ~/.profile export LDFLAGS=\u0026#34;-L/usr/local/opt/binutils/lib\u0026#34; export CPPFLAGS=\u0026#34;-I/usr/local/opt/binutils/include\u0026#34; brew update è¿˜æœ‰ä¸€äº›githubå¼€æºçš„å·¥å…·ï¼Œéƒ½å¯ä»¥å®‰è£…ï¼Œä¸è¿‡åè€…å°±æ˜¯ä¸€äº›å›ºå®šçš„è„šæœ¬ï¼Œæœ€åå°±æ˜¯ä¸€äº›è‡ªå·±æ”¶é›†çš„ç°æˆè„šæœ¬ä¹‹ç±»çš„äº†ã€‚\nmacä¸‹pythonçš„ç¯å¢ƒé…ç½®,åœ¨å½“å‰æ‰“å¼€çš„å·¥ä½œåŒºä¸­,ä¹Ÿå¯ä»¥æŠŠè¿™äº›åŠ å…¥ç”¨æˆ·çš„è®¾ç½®ä¸­(settings.json)ï¼š\n1 2 3 4 5 \u0026#34;code-runner.runInTerminal\u0026#34;: false, // è¿™é‡Œçš„è¯trueæ˜¯åœ¨ç»ˆç«¯è¾“å‡ºç»“æœï¼Œfalseæ˜¯åœ¨è¾“å‡ºæ é‚£è¾¹è¾“å‡º \u0026#34;python.pythonPath\u0026#34;: \u0026#34;/usr/local/bin/python3\u0026#34;, \u0026#34;code-runner.executorMap\u0026#34;: { \u0026#34;python\u0026#34;: \u0026#34;python3 -u\u0026#34; }, Sagemath sageæ˜¯ä¸€ä¸ªå¼€æºçš„æ•°å­¦è½¯ä»¶ï¼Œç”¨äºè¿›è¡Œä¸€äº›æ•°å­¦è¿ç®—ï¼Œç‰¹åˆ«æ˜¯æœ‰å…³ä»£æ•°çš„ç›¸å…³è¿ç®—ã€‚\nsageå¯¹äºwindowsçš„æ”¯æŒåœ¨9.3ï¼Œè€Œåœ¨linuxä¸Šçš„æ”¯æŒè¾ƒæ–°ï¼Œå¦‚æœåœ¨linuxä¸Šå®‰è£…ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡åœ¨macä¸Šå¯ä»¥ç›´æ¥å®‰è£…sageï¼Œæ¯•ç«Ÿsageæä¾›äº†å¾ˆå¤šå¿«æ·çš„å‡½æ•°ã€‚\nsageçš„äºŒè¿›åˆ¶ç‰ˆæœ¬ä¸‹è½½ï¼šhttps://github.com/3-manifolds/Sage_macOS/releasesã€‚å› ä¸ºç¬”è€…çš„ç¬”è®°æœ¬è¿˜æ˜¯Intelçš„å¤„ç†å™¨ï¼Œæ‰€ä»¥ä¸‹è½½çš„æ˜¯x86çš„dmgæ–‡ä»¶ï¼Œç°åœ¨çš„Macåº”è¯¥ä¸‹è½½çš„éƒ½æ˜¯ARMç‰ˆæœ¬çš„äº†å§ï¼ˆå¤§æ¦‚ï¼‰ã€‚æˆªæ­¢åˆ°2023å¹´ç§‹å­£ï¼Œsagemathå¯¹äºMacæ”¯æŒåˆ°äº†10.xçš„ç‰ˆæœ¬ï¼Œç›¸æ¯”Windowsæ–°äº†ä¸å°‘ï¼Œè€Œä¸”ç›´æ¥ä¸‹è½½macç‰ˆæœ¬çš„sageï¼Œå¯ä»¥ä¸éœ€è¦Linuxå®‰è£…sageé‚£ä¹ˆéº»çƒ¦ã€‚\nä¸‹è½½å®Œæˆåç›´æ¥æ‹–åŠ¨å°±è¡Œäº†ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸éœ€è¦é…ç½®å¤šä½™çš„å†…å®¹ã€‚æ­¤æ—¶ä¸‹æ–¹æ ä¸­ä¼šæœ‰ä¸€ä¸ªsageçš„å›¾æ ‡ï¼Œç‚¹å¼€çš„æ—¶å€™ä¼šæä¾›é€‰é¡¹æ˜¯è¿›å…¥å“ªä¸ªç¯å¢ƒã€‚æ¯”å¦‚ä¼šæœ‰ä¸€ä¸ªshellå’Œjupyterçš„ç¯å¢ƒå¯ä»¥é€‰æ‹©ï¼Œä¸€èˆ¬ä¸ªäººä¹ æƒ¯ç”¨jupyteräº†ï¼Œæ¯”å¦‚å¯ä»¥é€‰æ‹©jupyter v7ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsageé‡Œé¢éœ€è¦é‡æ–°å®‰è£…ä¸Šé¢æåˆ°çš„åº“æ‰èƒ½è¿è¡Œï¼Œå¦åˆ™æ˜¯æ— æ³•è¿è¡Œä¸Šé¢çš„åº“ä¸­çš„å‡½æ•°ï¼Œä¹Ÿæ— æ³•å¯¼å…¥ã€‚\nsageå®‰è£…åŒ…å®‰è£…æ—¶æ²¡é—®é¢˜çš„ï¼Œå¯ä»¥æ­£å¸¸æ‰“å¼€ã€‚\nè™šæ‹Ÿæœº è™šæ‹Ÿæœºç”¨çš„æ˜¯Vmwareçš„Fusion 13Proï¼Œå¹³æ—¶å¿«ç…§ï¼Œå¤‡ä»½éƒ½è¿˜å¯ä»¥ã€‚\nå…¶ä»–è½¯ä»¶å’Œåº”ç”¨ CyberChef chefæ˜¯ä¸€ä¸ªé›†åˆäº†å¾ˆå¤šåŠŸèƒ½çš„è½¯ä»¶ï¼Œæ— è®ºæ˜¯åœ¨çº¿è¿˜æ˜¯æœ¬åœ°ï¼Œéƒ½èƒ½ä½¿ç”¨ä¸ä»…åŒ…å«ç¼–ç ã€åŠ å¯†è§£å¯†ã€æŸ¥çœ‹æ–‡ä»¶ç­‰åŠŸèƒ½ã€‚\nciphey cipheyæ˜¯ä¸€ä¸ªè‡ªåŠ¨å·¥å…·ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µæ˜¯å¯¹äºè‹±æ–‡çš„è¯†åˆ«æ›´å¥½ï¼Œå¯ä»¥è‡ªåŠ¨è§£ç å¤æ‚çš„ç¼–ç è¿‡ç¨‹ä¹‹åçš„å­—ç¬¦ä¸²ã€‚ç›¸å…³é“¾æ¥ï¼šğŸ”—\n1 2 python3 -m pip install ciphey --upgrade python3 -m pip install -U ciphey ç›¸æ¯”chefï¼Œciphey åœ¨å¤„ç†è¾ƒä¸ºåºå¤§çš„æ•°æ®çš„æ—¶å€™æ›´æœ‰ä¼˜åŠ¿ï¼Œä½†æ˜¯å¦‚æœæ˜¯æ“ä½œè¾ƒä¸ºå¤æ‚çš„æƒ…å†µä¸‹ï¼Œè€Œä¸”æ•°æ®è§„æ¨¡ä¸å¤§ï¼Œchefæ›´æœ‰ä¼˜åŠ¿ä¸€äº›ã€‚\nè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼š\nCiphey doesn\u0026rsquo;t work on Windows with Python 3.9+, use Python 3.7 or Python 3.8. Other platforms are fine with Python 3.9, Python 3.10 doesn\u0026rsquo;t work.\nä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ³¢åªèƒ½ç”¨python3.9è·‘äº†ï¼Œç®—äº†ï¼Œå†ä¸‹ä¸€ä¸ª3.8ï¼Œæˆ‘ä½›äº†ï¼š\n1 2 https://www.python.org/downloads/release/python-3810/ brew install ciphey æ€»ç®—èƒ½ç”¨äº†å§æ§½äº†ã€‚\nyafu è¿™æ˜¯ä¸€ä¸ªé›†åˆäº†å¤šç§åˆ†è§£å¤§æ•°çš„å·¥å…·ï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µä¸‹åˆ†è§£å‡ºæ¥çš„å¯èƒ½æ˜¯åˆæ•°ï¼Œå¦‚è¿‡æ¨¡æ•°çš„ç”Ÿæˆè¿‡ç¨‹å°è´¨æ•°çš„bitå¤§å°ç›¸åŒï¼Œåˆ™éœ€è¦åˆ¤æ–­ç»“æœä¸­é•¿åº¦ï¼Œå¦‚æœæœ‰æ˜æ˜¾çš„åŒºåˆ«ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ²¡æœ‰åˆ†è§£å½»åº•ã€‚\nå¦‚æœéœ€è¦è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸­ï¼Œå¯ä»¥è€ƒè™‘å®‰è£…ä¸€ä¸ªwin10çš„è™šæ‹Ÿæœºï¼Œå ç”¨ä¸æ˜¯ç‰¹åˆ«å¤§ï¼ˆå®‰è£…çš„è½¯ä»¶å¾ˆå°‘çš„æƒ…å†µï¼‰ã€‚\nè¿™ä¸ªä¸œè¥¿ä¸è¡Œå°±ç®—äº†ï¼Œè¿˜æ˜¯æ•´ä¸ªåº“å§ï¼Œé…ä¸ªç¯å¢ƒç´¯çš„ä¸è¡Œï¼ŒçœŸç»·ä¸ä½äº†ã€‚\n","date":"2023-09-10T17:25:39+08:00","permalink":"https://expanse.rsvp/p/mac%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83/","title":"Macæ­å»ºç¯å¢ƒ"},{"content":"æ­å»ºç¯å¢ƒ vpsä½¿ç”¨çš„æ˜¯Ubuntu20.04+docker\ndockerfileä¸€èˆ¬ç”¨å®˜æ–¹ç»™å‡ºæ¥çš„å°±è¡Œï¼Œæˆ–è€…æ‰¾ä¸€ä¸ªèƒ½äº¤äº’çš„é¢˜ç›®çš„dockerfileï¼ˆæ¯”èµ›ç»“æŸä¹‹åå»discordæˆ–è€…githubï¼‰ã€‚æˆ‘çš„å®ä¾‹ä¸­æ²¡æœ‰ç”¨åˆ°socketåº“ï¼Œè¿™ç§dockerä¸éœ€è¦ã€‚\nåœ¨è¿™é‡Œä¸è¯¦ç»†è§£é‡Šæ›´ç»†è‡´çš„å†…å®¹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹éœ€è¦æ›´æ”¹çš„éƒ¨åˆ†æ˜¯dockerfileä¸­çš„pythonç‰ˆæœ¬ï¼Œé¢å¤–çš„åº“ï¼Œå…¶ä»–çš„ç›´æ¥æŒ‰ç…§éƒ¨ç½²dockerçš„æ–¹å¼æ¥å°±è¡Œï¼Œæµ‹è¯•çš„æ—¶å€™å¦‚æœä¸­æ–­å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜ã€‚\nå®ä¾‹ è¿™æ˜¯ä¸€ä¸ªäº¤äº’è®¡ç®—çš„é¢˜ç›®ï¼Œéœ€è¦é€šè¿‡è®¡ç®—100ä¸ªä¹˜æ³•è¿ç®—ï¼Œè·å–æœ€ç»ˆçš„flagã€‚\ndockerfile 1 2 3 4 5 6 7 8 9 10 FROM python:3.10 # dockerfile of test RUN apt update \u0026amp;\u0026amp; apt upgrade -y RUN apt install socat -y RUN pip install pycryptodome # modify here,from src to dst ADD calculator.py task.py ADD secret.py secret.py # modify EXEC: CMD socat -T 2 -dd -v \u0026gt;/dev/stdout TCP-L:60000,fork,reuseaddr EXEC:\u0026#34;python -u task.py\u0026#34; task script calculator.py:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 import random from secret import flag rounds = 100 welcome = \u0026#34;\u0026#34;\u0026#34; .----------------. .----------------. .----------------. .----------------. | .--------------. || .--------------. || .--------------. || .--------------. | | | _________ | || | _________ | || | _______ | || | _________ | | | | | _ _ | | || | |_ ___ | | || | / ___ | | || | | _ _ | | | | | |_/ | | \\_| | || | | |_ \\_| | || | | (__ \\_| | || | |_/ | | \\_| | | | | | | | || | | _| _ | || | \u0026#39;.___`-. | || | | | | | | | _| |_ | || | _| |___/ | | || | |`\\____) | | || | _| |_ | | | | |_____| | || | |_________| | || | |_______.\u0026#39; | || | |_____| | | | | | || | | || | | || | | | | \u0026#39;--------------\u0026#39; || \u0026#39;--------------\u0026#39; || \u0026#39;--------------\u0026#39; || \u0026#39;--------------\u0026#39; | \u0026#39;----------------\u0026#39; \u0026#39;----------------\u0026#39; \u0026#39;----------------\u0026#39; \u0026#39;----------------\u0026#39; \u0026#34;\u0026#34;\u0026#34; def task(): print(welcome) for _ in range(rounds): a,b = random.randint(1,1000),random.randint(1,1000) c = a*b cho = input(f\u0026#34;Please input your answer of {a}*{b}:\u0026#34;) if cho == str(c): print(\u0026#34;Right!\u0026#34;) else: exit(\u0026#34;Wrong...\u0026#34;) print(f\u0026#34;Here is your flag:{flag}\u0026#34;) task() secret.py:\n1 2 3 4 from uuid import uuid1 # test = \u0026#34;flag{\u0026#34;+str(uuid1()) + \u0026#34;}\u0026#34; # print(test) flag = \u0026#34;flag{.....}\u0026#34; write up 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # solve.py from pwn import * ip=\u0026#34;\u0026#34; port= p = remote(ip,port) pad = \u0026#34;Please input your answer of \u0026#34; p.recvlines(11) # è·³è¿‡welcome while 1: res = p.recv() print(res) if b\u0026#34;flag{\u0026#34; in res: exit(res) l = res[len(pad):-1].split(b\u0026#34;*\u0026#34;) ans = str(int(l[0])*int(l[1])) p.sendline(bytes(ans.encode())) a=p.recvline() print(a) bash 1 2 3 4 docker build -t test . # vpsç«¯å£ï¼šå®¹å™¨ç«¯å£ï¼Œ å®¹å™¨åç§°ï¼šé•œåƒåç§° docker run -d -p 50000:60000 --name cryptotest test # è¿™æ ·å®¹å™¨ä¸€ç›´åœ¨è¿è¡Œï¼Œåªéœ€è¦ncè®¿é—®å¯¹åº”çš„ç«¯å£å°±å¯ä»¥äº† å…¶ä»– ASCIIè‰ºæœ¯å­— æœ‰æ—¶å€™é¢˜ç›®å¼€å§‹çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªé¢˜ç›®çš„åå­—æ˜¾ç¤ºï¼Œåœ¨ç»ˆç«¯ä¸­ç”¨asciiè‰ºæœ¯å­—å±•ç¤ºçš„ï¼Œè¿™é‡Œæœ‰ç½‘ç«™å¯ä»¥å®ç°è¿™ç§æ–¹æ³•(æˆ–è€…æœç´¢asciiè‰ºæœ¯å­—ä¹Ÿå¯ä»¥)ï¼š\nè‰ºæœ¯å­—ç½‘ç«™ï¼špatorjk\nåŸŸå+ç«¯å£çš„è¯´æ˜ ä¸€äº›æ¯”èµ›ç»™çš„é¶æœºå¸¦æœ‰åŸŸåï¼Œå¯ä»¥ä½¿ç”¨åå‘ä»£ç†ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰è¯•è¿‡ï¼Œæœ‰æ—¶é—´å¯èƒ½ä¼šè¯•è¯•ï¼ˆå¯èƒ½æœ‰æ›´ç®€å•çš„æ–¹æ³•ï¼Œæœ‰æ—¶é—´ç ”ç©¶ä¸€ä¸‹ï¼‰ã€‚\n","date":"2023-08-21T05:52:28+08:00","permalink":"https://expanse.rsvp/p/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAcrypto%E4%BA%A4%E4%BA%92%E5%9E%8B%E9%A2%98%E7%9B%AE/","title":"å¿«é€Ÿæ­å»ºcryptoäº¤äº’å‹é¢˜ç›®"},{"content":"å‰è¨€ ä¹‹å‰è¯•è¿‡åœ¨bloggerå’ŒGitHub Pagesæ­å»ºåšå®¢ï¼Œä¹Ÿç”¨è¿‡docker+WordPressæ­å»ºï¼Œä½†æ˜¯åè€…å› ä¸ºæ—¥å¿—è¿‡å¤§ï¼ŒåŠ ä¸Šmarkdownå†™èµ·æ¥ä¸æ˜¯å¾ˆæ–¹é¢ï¼Œæ‰€ä»¥ç°åœ¨åˆç”¨hugo+GitHub Pages +Actionsæ¥æ­ï¼Œè¿™æ ·markdownå†™èµ·æ¥æ–¹ä¾¿ï¼Œç¦»çº¿çš„æ—¶å€™ç”¨èµ·æ¥æ–¹ä¾¿\nä¼˜åŠ¿ å¯¹äºdockeræ­å»ºwordpressçš„åšå®¢æ˜¯å¾ˆèˆ’æœçš„ï¼Œä¸ç”¨è€ƒè™‘å›¾åºŠä¹‹ç±»çš„é—®é¢˜ã€‚åªéœ€è¦æ‹…å¿ƒçš„æ˜¯wordpressæ’ä»¶ä¼šä¸ä¼šå‡ºé—®é¢˜ä¹‹ç±»çš„ï¼Œ é…ç½®éœ€è¦ä¸€äº›æ—¶é—´ï¼Œåå‘ä»£ç†åŸŸåå’Œç«¯å£ï¼Œè¿˜æœ‰CFé…ç½®SSLç­‰ã€‚\nhugoç›¸æ¯”hexoç”Ÿæˆä¸ªäººæ„Ÿè§‰å¥½ç”¨ä¸€äº›ã€‚é¦–å…ˆhugoéƒ¨ç½²å¾ˆæ–¹ä¾¿ï¼Œè€Œä¸”ç¯å¢ƒé…ç½®åªéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ç„¶åå°±èƒ½ç”¨äº†ã€‚é…ç½®é—®é¢˜ä¸»è¦æ˜¯Actionsçš„éƒ¨åˆ†ï¼Œè¿˜æœ‰å°±æ˜¯CFçš„ipæ·»åŠ ä¸€æ¬¡åªèƒ½æ·»åŠ ä¸€ä¸ªï¼Œæ¯”Googleçš„éº»çƒ¦ä¸€äº›ã€‚ä½†æ˜¯Actionsç¡®å®å¾ˆå¥½ç”¨ï¼Œçœå»äº†æœ¬åœ°ç”Ÿæˆçš„éº»çƒ¦ï¼Œåªéœ€è¦pushåˆ°åšå®¢ä»“åº“å°±è¡Œäº†ï¼ˆæ­¤å¤„çš„åšå®¢ä»“åº“æ˜¯ä¸€ä¸ªç§æœ‰ä»“åº“ï¼Œä¸æ˜¯å…¬å¼€çš„ä»“åº“ï¼‰ã€‚\néƒ¨ç½² é¦–å…ˆï¼Œéœ€è¦æ‹¥æœ‰ä¸€ä¸ªgithubè´¦å·ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªè´¦å·ä¸­å»ºç«‹ä¸¤ä¸ªä»“åº“ï¼š\n1.ç”¨äºå­˜å‚¨hugo siteçš„æºç ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªä»“åº“ä¸­åŠ å…¥Actionsçš„æ–‡ä»¶ï¼Œç”¨äºå®ç°githubçš„actionsç”Ÿæˆã€‚\n2.ç”¨äºå­˜å‚¨ç”Ÿæˆä¹‹åçš„ç½‘ç«™çš„æºç ï¼Œè¿™ä¸ªä»“åº“å°±æ˜¯ç”¨äºå±•ç¤ºçš„ä»“åº“ã€‚\nå®Œæˆå‰ç½®æ¡ä»¶ä¹‹åï¼Œéƒ¨ç½²åšå®¢çš„å¤§ä½“æ€è·¯æ˜¯è¿™æ ·çš„ï¼š\nä½œè€…é¦–å…ˆå®‰è£…Goè¯­è¨€çš„ç¯å¢ƒå’Œhugoï¼Œç„¶ååˆå§‹åŒ–siteï¼Œé…ç½®æœ¬åœ°çš„siteæ–‡ä»¶ï¼Œæ¨é€åˆ°githubçš„æºç ä»“åº“ï¼Œç”±æºç ä»“åº“ä¸­çš„Actionsæ‰§è¡Œç”Ÿæˆname.github.ioä»“åº“ä¸­çš„å†…å®¹ï¼Œæ‰“å¼€è¿™ä¸ªé“¾æ¥å°±å¯ä»¥è®¿é—®äº†ï¼Œä¹‹åé…ç½®cloudflareä¹‹ç±»çš„æ¯”è¾ƒç®€å•äº†ã€‚\ngoå’Œhugoç¯å¢ƒé…ç½® ä¸‹è½½goè¯­è¨€çš„å®‰è£…åŒ…ï¼Œæ·»åŠ binç›®å½•åˆ°ç¯å¢ƒå˜é‡ä¸­ï¼ˆwinå¹³å°æ˜¯å®‰è£…çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦ï¼‰ï¼š\nä¸‹è½½åœ°å€ï¼šhttps://go.dev/dl/\n1 2 3 4 tar -zxvf \u0026#39;ä¸‹è½½çš„æ–‡ä»¶åå­—\u0026#39; go # æ·»åŠ ç¯å¢ƒå˜é‡ export PATH=$PATH:/usr/local/go/bin authorized_keys å®‰è£…hugoå¹¶ä¸”é…ç½®hugo\n1 2 3 4 # ä¸‹è½½åœ°å€ï¼šhttps://github.com/gohugoio/hugo/releases # è§£å‹ç¼©åˆ°å¯¹åº”çš„ç›®å½•ï¼Œç„¶åæ·»åŠ ç¯å¢ƒå˜é‡ï¼Œå½“åœ¨winä¸­è¿è¡Œ where hugo #å¦‚æœæœ‰ç»“æœå°±è¯´æ˜hugoé…ç½®å¥½äº† åœ¨ç½‘ç«™çš„çˆ¶ç›®å½•ä¸­åˆ›å»ºç½‘ç«™ï¼š\n1 hugo new site \u0026#34;your site\u0026#39;s name\u0026#34; æ·»åŠ ä¸»é¢˜ï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™çš„hugoç½‘ç«™æ˜¯æ²¡æœ‰ä¸»é¢˜çš„ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ ä¸»é¢˜ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œå…ˆè¯´æ˜hugoåœ¨æœ¬åœ°çš„ç”Ÿæˆæ˜¯æœ‰ä¸¤ç§çš„ï¼Œä¸€ç§æ˜¯hugo server -Dè¿™ç§æ˜¯ç”Ÿæˆæ‰€æœ‰çš„æ–‡ç« é¢„è§ˆï¼ŒåŒ…æ‹¬è‰ç¨¿ï¼Œå¦‚æœå¼€å§‹çš„æ¡†ä¸­çš„draft:trueè¿™ç§æƒ…å†µä¸‹ï¼Œåªç”¨hugo serveræ˜¯æ— æ³•ç”Ÿæˆé¢„è§ˆçš„ï¼ŒæŠŠtrueæ”¹ä¸ºfalseï¼Œæ‰èƒ½ç”Ÿæˆé¢„è§ˆï¼Œè¿™ç§æƒ…å†µä¹‹ä¸‹ï¼ŒåŠæ—¶æ¨é€åˆ°githubç„¶åactionsä¹Ÿæ²¡æœ‰æ–‡ç« å¯ä»¥çœ‹åˆ°ã€‚\næ¸…é™¤gitæ‰€ç”¨çš„ä»£ç†é…ç½®ï¼š\n1 2 3 git config --global --unset http.proxy git config --global --unset https.proxy # æ‰‹åŠ¨åˆ é™¤ ~/.gitconfig ä¹Ÿå¯ä»¥å®ç°é‡ç½®é…ç½®çš„æ•ˆæœ å°†theme\\examplseSiteé‡Œé¢çš„config.yomlä¸œè¥¿å¤åˆ¶å‡ºæ¥ï¼Œæ”¾åˆ°ç½‘ç«™çš„æ ¹ç›®å½•ä¸­ï¼Œè¿™æ—¶å€™å°±åŸºæœ¬ç›¸å½“äºé…ç½®å¥½äº†ä¸€ä¸ªåŸºæœ¬çš„ç½‘ç«™äº†ï¼ˆé‡Œé¢çš„å†…å®¹è¿˜æ˜¯examplesiteçš„ï¼‰ã€‚\næ¨é€åˆ°github æ¨é€åˆ°githubéœ€è¦æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼Œé¦–å…ˆéœ€è¦å°†è´¦æˆ·ç™»å½•åˆ°gitï¼Œè¿™é‡Œéœ€è¦é…ç½®å¯†é’¥å¯¹ï¼Œç”Ÿæˆçš„æ–¹å¼ï¼š\n1 2 ssh-keygen -t rsa -b 4096 -C \u0026#34;deploy_github_pages\u0026#34; -f \u0026#39;è¿™é‡Œæ˜¯ä½ æƒ³è¦ç»™å¯†é’¥çš„å‘½å\u0026#39; # ç”Ÿæˆä¸€ä¸ªkeyæ–‡ä»¶è¿˜æœ‰ä¸€ä¸ªkey.pubæ–‡ä»¶ï¼ˆå‡è®¾åœ¨-fä¹‹åçš„åå­—æ˜¯keyï¼‰ ç¬¬ä¸€ä¸ªå¯†é’¥å¯¹ï¼š\né¦–å…ˆé…ç½®githubè®¤è¯éœ€è¦çš„ä¸¤ä¸ªå¯†é’¥ï¼Œç§é’¥æ”¾åˆ°æœ¬åœ°ï¼Œå…¬é’¥ä¸Šä¼ åˆ°Settins|SSH and GPG keys|Authentication Keys è¿™é‡Œã€‚\nç„¶åå°±å¯ä»¥gitæ¥æ¨é€æ–‡ä»¶äº†ã€‚\nç¬¬äºŒä¸ªå¯†é’¥å¯¹ï¼š\nç”¨äºè¿æ¥ä¸¤ä¸ªä»“åº“ï¼Œä¸€ä¸ªæ˜¯ç§æœ‰ä»“åº“ç”¨äºå­˜æ”¾hugo siteæ ¹ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªä»“åº“ä¸­çš„Settings|Secrets and variables|ä¸­éƒ¨ç½²ç§é’¥ï¼Œè¿™é‡Œçš„ç§é’¥å°±æ˜¯ç±»ä¼¼keyé‡Œé¢çš„å†…å®¹ï¼Œç›´æ¥å…¨éƒ¨å¤åˆ¶åˆ°é‡Œé¢å°±è¡Œäº†ï¼Œè¿™é‡Œçš„åå­—è¦è®°ä½ï¼Œç„¶ååœ¨actionsä¸­çš„æ–‡ä»¶é…ç½®éœ€è¦ç”¨åˆ°ã€‚\nå…¬é’¥çš„ä½ç½®æ”¾åˆ°name.github.ioä»“åº“ä¸­çš„Settings|Deploy keysä½ç½®ï¼Œå»ºè®®èµ·åå­—çš„æ—¶å€™å¯ä»¥å’Œå‰é¢çš„ç§é’¥å¯¹åº”ï¼Œæˆ–è€…æ–¹ä¾¿è¯†åˆ«ã€‚\né…ç½®å¥½äº†å¯†é’¥ä¹‹åï¼Œå¯ä»¥åˆå§‹åŒ–æœ¬åœ°ä»“åº“ï¼Œå®Œæˆä¹‹åå°±å¯ä»¥æ¨é€åˆ°è¿œç¨‹çš„ç§æœ‰ä»“åº“ï¼Œåœ¨ç§æœ‰ä»“åº“ä¸­çš„actionsé¡µé¢æ‰§è¡Œç”Ÿæˆé™æ€ç½‘ç«™çš„æ­¥éª¤ã€‚\n1 2 3 4 5 git init -b main # åˆå¹¶ä»“åº“åˆ°ç§æœ‰ä»“åº“ git remote add origin git@github.com:xxx/xxxx.git # æ²¡åŠæ³•çš„æƒ…å†µä¸‹å¼ºè¡Œåˆå¹¶ git push -f origin master #æ³¨æ„ï¼Œè¿™ä¸€æ­¥å¯èƒ½æœ‰é—®é¢˜ï¼Œå»ºè®®æ ¹æ®è‡ªå·±çš„å®é™…çš„branchæ›´æ”¹masteræˆ–è€…main ä¸€èˆ¬æƒ…å†µä¸‹å¦‚æœé¡ºåˆ©çš„éƒ¨ç½²æ­¥éª¤æ˜¯ï¼š\n1 2 3 4 # cd åˆ°ç½‘ç«™çš„æ ¹ç›®å½• git add . git commit -m \u0026#34;ä½ ä¸ºè¿™æ¬¡æ¨é€çš„è¯„è®º\u0026#34; git push origin main # å› ä¸ºæˆ‘çš„åˆ†æ”¯æ˜¯mainï¼Œæ‰€ä»¥æ¨é€åˆ°main é…ç½®actions actionsæ˜¯ä¸€ä¸ªå¯ä»¥è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•çš„å·¥å…·ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ï¼Œå°†æºä»£ç ç”Ÿæˆä¸º./publicä¸­çš„é™æ€ç½‘ç«™ï¼Œå¹¶ä¸”æ¨é€åˆ°ä¸€ä¸ªå…±æœ‰çš„ä»“åº“ï¼Œè¿™æ ·ç§æœ‰ä»“åº“ä¸­çš„ä¸€äº›æºç ç­‰å†…å®¹ä¸ä¼šåœ¨å…±æœ‰ä»“åº“ä¸­æ˜¾ç¤ºã€‚\nå¯¹äºgithub çš„actionså·¥å…·ï¼Œä¼šæœ‰ä¸€ä¸ªç±»ä¼¼shellçš„è¿è¡Œç»“æœï¼Œå¦‚æœå‡ºç°äº†å¤±è´¥ï¼Œä¼šæœ‰æŠ¥é”™ï¼Œæ ¹æ®æŠ¥é”™æœç´¢å°±å¯ä»¥æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œä¸€èˆ¬æ¥è¯´googleå‡ºæ¥çš„ç»“æœå¯ä»¥è§£å†³ï¼Œactionsçš„è¿è¡ŒæŠ¥é”™ç±»ä¼¼å¦‚\né…ç½®è¿™ä¸ªæ–‡ä»¶ï¼Œéœ€è¦åœ¨ç½‘ç«™çš„æ ¹ç›®å½•ä¸­æ·»åŠ ç›®å½•ï¼š.github/workflows/å†™ä¸€ä¸ªymlæ ¼å¼çš„æ–‡ä»¶ã€‚\næˆ‘çš„æ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 name: Hugo Blog GitHub Pages Actions on: push: branches: - main # Set a branch name to trigger deployment pull_request: jobs: deploy: runs-on: ubuntu-22.04 permissions: contents: write concurrency: group: ${{ github.workflow }}-${{ github.ref }} steps: - uses: actions/checkout@v3.5.3 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#39;0.114.1\u0026#39; # extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 # If you\u0026#39;re changing the branch from main, # also change the `main` in `refs/heads/main` # below accordingly. if: github.ref == \u0026#39;refs/heads/main\u0026#39; with: external_repository: name/name.github.io # æ›´æ”¹è¿™é‡Œé€‚é…ä½ çš„ä»“åº“ deploy_key: ${{ secrets.xxxxxx }} #ã€€è¿™é‡Œçš„å°±æ˜¯ä¸Šé¢æåˆ°çš„ç§æœ‰ä»“åº“çš„ç§é’¥ publish_branch: main publish_dir: ./public è¿™ä¸ªæ–‡ä»¶çš„é…ç½®æˆ‘ä¹Ÿæ˜¯å‚è€ƒäº†ç½‘ä¸Šçš„è¿æ¥ï¼Œæ˜¯ä¸€ä¸ªgithubä»“åº“ï¼Œåœ¨é‡Œé¢ä¼šæœ‰æŒ‡å¯¼æ€ä¹ˆå†™ymlæ–‡ä»¶ï¼Œæˆ‘è¿™ä¸ªæ–‡ä»¶æ˜¯æ»¡è¶³éƒ¨ç½²ï¼Œå¯ä»¥è¿è¡Œçš„ã€‚\næŠ¥é”™è§£å†³ Not submodule åœ¨éƒ¨ç½²çš„æ—¶å€™ï¼Œå‡ºç°\u0026quot;Not submodule\u0026hellip;\u0026hellip;.\u0026quot;ï¼ˆè¿™é‡Œçš„æŠ¥é”™æ¶‰åŠåˆ°çš„æ˜¯ä¸»é¢˜ï¼‰ï¼Œè¿™ä¸ªéœ€è¦åœ¨æ ¹ç›®å½•ä¸­å†™ä¸€ä¸ªåå­—æ˜¯.gitmodulesçš„æ–‡ä»¶ï¼Œç„¶åå°†ä½ çš„ä¸»é¢˜çš„submoduleæ”¾è¿›å»å°±è¡Œï¼Œä¸€èˆ¬hugoçš„ä¸»é¢˜æœ‰ä¸€ä¸ªä»“åº“æ˜¯å­˜æ”¾äº†ä¸€å †submoduleçš„ï¼Œåœ¨é‡Œé¢æ›´æ”¹ä¸ºå¦‚ä¸‹çš„æ–¹å¼å°±å¥½ï¼š\n1 2 3 4 5 # æ¯”å¦‚æˆ‘çš„ä¸»é¢˜æ˜¯ hugo-tranquilpeak-theme # æ·»åŠ å¦‚ä¸‹æ–‡ä»¶åˆ°.gitmodulesæ–‡ä»¶ä¸­ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ç›®å½•å’ŒåŒå¼•å·ä¸­çš„ç›®å½•é—®é¢˜ï¼Œå’Œä»“åº“ä¸­çš„æœ‰åŒºåˆ« [submodule \u0026#34;themes/hugo-tranquilpeak-theme\u0026#34;] path = themes/hugo-tranquilpeak-theme url = https://github.com/kakawait/hugo-tranquilpeak-theme.git æˆ–è€…åœ¨æ·»åŠ ä¸»é¢˜çš„æ—¶å€™ï¼Œå°±å°†ä¸»é¢˜ä»¥å­æ¨¡ç»„çš„å½¢å¼æ·»åŠ åˆ°themesæ–‡ä»¶å¤¹ä¸­ï¼š\n1 2 # ä¸»é¢˜ï¼šstack git submodule add https://github.com/CaiJimmy/hugo-theme-stack/ themes/hugo-theme-stack å¦‚æœmarkdownæ–‡ä»¶ä¸­å‡ºç°äº†é”™è¯¯ï¼Œä¹Ÿä¼šå¯¼è‡´æŠ¥é”™ï¼Œä¸æ”¾å¿ƒçš„è¯å¯ä»¥åœ¨pushçš„æ—¶å€™çœ‹ç€actionsçš„è¿è¡ŒçŠ¶æ€ã€‚\nå›¾ç‰‡æ— æ³•æ˜¾ç¤º è®¾ç½®å›¾ç‰‡çš„æ ¹ç›®å½•ï¼Œåœ¨æ–‡ç« é¦–æ¡†ä¸­åŠ å…¥ï¼š\n1 2 3 typora-root-url: ./..\\..\\static # åå¥½è®¾ç½®ï¼šå¤åˆ¶åˆ°ç›¸å¯¹è·¯å¾„ ../../static/images/${filename} æˆ–è€…å°†markdownæ–‡ä»¶å‘½åä¸ºï¼šindex.mdï¼Œç„¶åå°†å›¾ç‰‡å¤åˆ¶åˆ°æ–‡ç« çš„é¡¹ç›®ç›®å½•ä¸‹ï¼Œå½¢æˆå¦‚ä¸‹çš„ç»“æ„ï¼š\n1 2 â”œâ”€2023 â”‚ â””â”€Hugo+GithubPages+Actionsåšå®¢æ­å»º è¿™ä¸ªæ–‡ç« ä¸­ä¸‹å«æœ‰äº†æ–‡ç« index.mdå’Œå›¾ç‰‡æŠ¥é”™å®ä¾‹ï¼Œè¿™ä¸ªå›¾ç‰‡çš„åå­—æ˜¯å¯ä»¥å‘½åçš„ï¼Œè¿™æ ·ä¹Ÿå¥½åœ¨æœ¬åœ°ä½¿ç”¨ã€‚\nç«™ç‚¹ä¿®æ”¹ è®¾ç½®avatar.png åœ¨æ ¹ç›®å½•ä¸­çš„assetsæ–‡ä»¶å¤¹ä¸­æ–°å»ºimgæ–‡ä»¶å¤¹ï¼Œæ”¾å…¥avatar.pngã€‚\nç«™ç‚¹å¤´åƒ å®é™…ç›®å½•ï¼š/static/images/favicon.ico\nè®¾ç½®ï¼š\n1 2 3 4 5 6 params: mainSections: - post featuredImageField: image rssFullContent: true favicon: /images/favicon.ico è®¾ç½®è¯„è®º é‡‡ç”¨Disqusä½œä¸ºè¯„è®ºç³»ç»Ÿï¼Œåªéœ€è¦æ›´æ”¹ç½‘ç«™æ ¹ç›®å½•ä¸­çš„config.yamlæ–‡ä»¶ä¸­disqusShortnameçš„å€¼å³å¯ï¼Œæ”¹ä¸ºDisqusçš„è´¦æˆ·åç§°ï¼ˆéœ€è¦æ³¨å†ŒDisqusè´¦æˆ·å¹¶ä¸”ç”¨é‚®ç®±æ¿€æ´»ï¼‰ã€‚\néœ€è¦åœ¨Disqusæ·»åŠ ç«™ç‚¹ï¼Œè®¿é—®ï¼šğŸ”—ï¼Œé€‰æ‹©I want to install Disqus on my siteï¼Œé€‰æ‹©å…è´¹è®¡åˆ’ï¼Œå¯ä»¥ä¸é…ç½®å¹³å°ï¼Œç„¶ååœ¨é…ç½®ä¸­ä¸€è·¯é»˜è®¤æœ€åé€‰æ‹©å®Œæˆé…ç½®å°±è¡Œã€‚\næ›´æ¢åŸŸåã€ç”¨æˆ·åã€ä»“åº“åå­— åŸŸå æ›´æ¢åŸŸåéœ€è¦æ›´æ¢cloudflareçš„DNSè®°å½•ï¼Œnameserverè¿˜ç»™CFçš„ï¼Œå¼ºåˆ¶httpsï¼ŒAè®°å½•æ·»åŠ ä¸º185.199.10x.153ï¼ˆxä¸º9-11ï¼‰ï¼Œä»£ç†çŠ¶æ€ä¸ºä»…DNSã€‚\nç”¨æˆ·åå­— å¦‚æœæ›´æ¢äº†ä»“åº“åå­—æˆ–è€…githubç”¨æˆ·åå­—ã€åŸŸåï¼Œéœ€è¦æ›´æ”¹é…ç½®æ–‡ä»¶ï¼ˆymalä¸­çš„å†…å®¹ï¼Œå’Œhugo.yml external_repository:ï¼Œstaticä¸­çš„CNAMEè®°å½•ï¼Œè¿™é‡Œå¯ä»¥ç”¨everythingæœç´¢CNAMEä¿®æ”¹ï¼‰ã€‚\nä¸€èˆ¬æ˜¯æ›´æ”¹configä¸­çš„å†…å®¹ï¼Œæ”¹ä¸ºç”¨æˆ·å+github\u0026hellip;çš„å½¢å¼ï¼ŒåŸŸåéœ€è¦å°†æ‰€æœ‰çš„æ—§åŸŸåæ›¿æ¢æˆæ–°åŸŸåï¼Œå¦‚æœå‡ºç°æ— æ³•pushçš„æƒ…å†µï¼Œå¯ä»¥æ›´æ¢å¯†é’¥ï¼Œæ·»åŠ åˆ°å…¬å¼€ä»“åº“çš„æ—¶å€™å¯ä»¥å‹¾é€‰ä¸ŠAllow write accessï¼Œå¯ä»¥è§£å†³128æŠ¥é”™æ— æ³•æ¨é€çš„é—®é¢˜ã€‚\næŠ¥é”™ å¦‚æœsshæ›´æ–°ä½†æ˜¯æ²¡æœ‰æ·»åŠ é‚®ç®±ï¼ˆ-Cï¼‰ï¼Œå¯ä»¥æŠŠç§é’¥åå­—æ”¹ä¸ºid_rsaé‡æ–°pushã€‚\nå‘å¸ƒæ–‡ç«  ä¸Šé¢ç”¨çš„æ˜¯index.mdæ¥å­˜æ”¾æ–‡ç« å†…å®¹ï¼Œæ‰€ä»¥å†™æ–°æ–‡ç« çš„æ—¶å€™ç”¨ï¼š\n1 2 hugo new .\\content\\post\\2023\\æ–‡ç« æ ‡é¢˜\\index.md # æˆ–è€…ç›´æ¥new postä¹Ÿå¯ä»¥ è¿™æ ·å›¾ç‰‡ç›´æ¥å¤åˆ¶åˆ°å½“å‰æ–‡ä»¶å¤¹å°±è¡Œäº†ã€‚\nå¼€å¯KaTexæ”¯æŒ é€šè¿‡ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„config.yamlä¸­çš„\n1 2 article: math: true å³å¯å¼€å¯æ•°å­¦å…¬å¼æ”¯æŒã€‚\nåŒæœºæ›´æ–° å¦‚æœæœ‰ä¸¤ä¸ªä¸åŒç³»ç»Ÿçš„ç¬”è®°æœ¬ï¼Œæ¯”å¦‚ä¸€ä¸ªUbuntuå’Œä¸€ä¸ªWindowsï¼Œå¯ä»¥åœ¨ä¸¤ä¸ªè®¾å¤‡ä¸ŠåŒæ—¶cloneä¸‹æ¥ä»“åº“ï¼Œæ¯”å¦‚å·²ç»å®Œæˆäº†å¦ä¸€ä¸ªè®¾å¤‡ä¸Šçš„gitå®‰è£…ï¼Œè¿˜æ²¡cloneä»“åº“åˆ°æœ¬åœ°æ—¶å€™ã€‚\né¦–å…ˆå°†ç§é’¥å¤åˆ¶åˆ°ç”¨æˆ·ç›®å½•çš„sshæ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨ç›¸å…³ç›®å½•ä¸­ç›´æ¥ï¼š\n1 git clone ...... å‘ç”Ÿæ›´æ–°ä¹‹åï¼Œå³ä½¿åšå®¢çš„æ›´æ–°åªæœ‰ä¸€ä¸ªäººï¼Œä½†æ˜¯ä»ç„¶éœ€è¦æ£€æŸ¥æ˜¯ä¸æ˜¯ç›¸æ¯”ä»“åº“å‘ç”Ÿäº†æ›´æ–°ï¼Œå¦‚åœ¨winä¸Šæ›´æ–°ä¹‹åä½†æ˜¯æ²¡æœ‰pullï¼Œä½†æ˜¯macç«¯å…ˆpull åˆ°ä¸»è¦åˆ†æ”¯ï¼Œå¦‚æœä¸‹æ¬¡åœ¨winä¸Šç›´æ¥pullè€Œä¸æ¯”è¾ƒå†…å®¹ï¼Œä¼šå‡ºç°è¦†ç›–macç«¯pullçš„æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦æ£€æµ‹å½“å‰çš„ç‰ˆæœ¬æ˜¯ä¸æ˜¯æœ€æ–°çš„ï¼Œå¦‚æœå’Œè¿œç¨‹ä»“åº“æœ‰åŒºåˆ«éœ€è¦å…ˆæŠŠè¿œç¨‹ä»“åº“çš„æ›´æ–°æ‹‰åˆ°æœ¬åœ°ç„¶åpullï¼š\n1 2 3 4 5 6 git fetch # ä¼šåœ¨ä¸æ›´æ–°æœ¬åœ°ä»“åº“çš„æƒ…å†µä¸‹è·å–è¿œç¨‹ä»“åº“çš„æ›´æ–°æƒ…å†µ git diff --stat main origin/main # æ¯”è¾ƒæœ¬åœ°å’Œè¿œç¨‹ä»“åº“å†…å®¹åŒºåˆ«,å¦‚æœæ²¡æœ‰ç»“æœå°±æ˜¯okï¼Œå¦‚æœæœ‰åŒºåˆ«ï¼Œè§†æƒ…å†µé€‰æ‹©merge git merge # å°†è¿œç¨‹å·²ç»æ›´æ–°çš„å†…å®¹æ›´æ–°åˆ°æœ¬åœ° # å¦‚æœmerge æŠ¥é”™ï¼Œå¦‚æœç¡®å®šäº†è¿œç¨‹æ˜¯éœ€è¦æ‹‰åˆ°æœ¬åœ°çš„æƒ…å†µï¼Œå°±stash git stash git merge åˆ°æ­¤å°±å®Œæˆäº†ä¸¤ä¸ªä¸»æœºä¸Šåšå®¢çš„æ›´æ–°éƒ¨ç½²ï¼Œåªä¸è¿‡éœ€è¦åœ¨æ›´æ–°çš„æ—¶å€™å…ˆæ£€æŸ¥è¿œç¨‹å’Œæœ¬åœ°çš„åŒºåˆ«ï¼Œç„¶åå†é€‰æ‹©æ˜¯å¦æ›´æ–°ã€‚\næŠ¥é”™ å‚è€ƒï¼šå¦‚æœgit diffæ— ååº”æ€ä¹ˆåŠ\nmerge æŠ¥é”™ï¼šå¦‚æœmergeæç¤ºæŠ¥é”™æ€ä¹ˆåŠ\nhugo server å‡ºç°Page not foundï¼š\n1 2 3 WARN found no layout file for \u0026#34;html\u0026#34; for layout \u0026#34;archives\u0026#34; for kind \u0026#34;page\u0026#34;: You should create a template file which matches Hugo Layouts Lookup Rules for this combination. WARN found no layout file for \u0026#34;html\u0026#34; for kind \u0026#34;page\u0026#34;: You should create a template file which matches Hugo Layouts Lookup Rules for this combination. WARN found no layout file for \u0026#34;html\u0026#34; for layout \u0026#34;search\u0026#34; for kind \u0026#34;page\u0026#34;: You should create a template è¿™ç§æƒ…å†µå°±æ˜¯hugoçš„themeæ–‡ä»¶å¤¹ä¸­çš„ä¸»é¢˜é—®é¢˜ï¼Œå› ä¸ºä¹‹å‰é…ç½®è¿‡submoduleï¼Œgithub pullä¸‹æ¥ä¹‹åï¼Œå‘ç°ä¸»é¢˜æ–‡ä»¶å¤¹æ˜¯ç©ºçš„ï¼Œå› ä¸ºä¹‹å‰æ”¹è¿‡ä¸»é¢˜ï¼Œæ‰€ä»¥ç›´æ¥æŠŠä¸»é¢˜è¿‡æ¥äº†ï¼Œæ­¤æ—¶åœ¨ç”Ÿæˆå°±æ˜¯åŠ¨æ€çš„ç½‘é¡µäº†ã€‚\nå‚è€ƒ Hugo actionsçš„æŒ‡å¯¼ï¼šhttps://github.com/peaceiris/actions-hugo\næŠ¥é”™è§£å†³ï¼šhttps://www.youtube.com/watch?v=DMgEGpqXEM4\nä¸»é¢˜gitmodulesï¼šhttps://github.com/gohugoio/hugoThemes/blob/master/.gitmodules\næ ‡é¢˜æ— æ³•ä»ä¸€çº§æ ‡é¢˜å¼€å§‹æ˜¾ç¤ºï¼šhttps://huweim.github.io/post/blog_hugo_%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/\n","date":"2023-06-29T02:03:52+08:00","permalink":"https://expanse.rsvp/p/hugo-githubpages-actions%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/","title":"Hugo+GithubPages+Actionsåšå®¢æ­å»º"}]